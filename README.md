# Quiz

## 1. 개요

- node js 18 버전에서 정상동작함을 확인하였습니다
- chrom 브라우저에서 정상동작함을 확인하였습니다
- npm i 이후 npm start를 통해 개발서버를 실행할수 있습니다.

## 2. 이용방법

- 먼저 문제 갯수, 카테고리, 난이도를 선택합니다
- 퀴즈가 생성되면 퀴즈페이지로 이동해 퀴즈를 풀수 있습니다.
- 정답은 한번만 선택이 가능하며 선택하면 결과를 o 또는 X 로 볼수 있고, 틀렸을경우 정답도 볼수 있습니다.
- 선택한 이후 다음 버튼이 활성화 되어 그다음 문제로 이동가능합니다
- 마지막 문제를 풀고 다음 버튼을 눌렀을경우 결과창으로 이동합니다
- 결과창으로 이동하면, 오답이 오답노트에 저장됩니다.
- 결과창에는 비율그래프 맞은 문제, 틀린문제, 소요시간이 표기되며, 오답노트로 이동가능한 버튼이 주어집니다.
- 비율 그래프에 커서를 올리면 갯수를 확인해볼수 있습니다.
- 오답노트로 이동하면 이때까지의 오답을 확인할수 있습니다. 동일한 문제는 두번 주어지지 않고, 오답횟수가 올라가는 방식으로 구현되어 있습니다.
- 오답노트 내에서는 정렬 기능을 이용해 최신순, 오답횟수가 많은순, 난이도가 낮은순으로 정렬할수 있습니다.
- 오답노트 내에서는 최대 10개씩만 보여집니다
- 오답노트 문제의 삭제 버튼을 누르면 삭제할수 있습니다.

## 3. 예외처리

- 문제를 받아오지 않은 상황에서 quiz 라우터에 접근한경우, 문제를 다풀지 않고 result 라우터에 접근한경우 접근하지 못하도록 처리하였습니다.
- quiz 라우터에서 문제를 푸는 도중 뒤로가기 창닫기 새로고침 탭닫기등 해당 라우터를 나가려는 동작에대해 해당동작의 진행여부를 묻고난뒤, 동작처리후 퀴즈 관련사항을 초기화하였습니다.

## 4. 로직관리

redux, redux-saga를 이용해 진행상황 및 퀴즈 데이터를 전역으로 관리하였습니다. 컴포넌트내 비즈니스 로직은 custom hook 을 이용해 빼내었습니다. 따라서 component 폴더의 컴포넌트들은 ui 기능을 담당하고, redux 와 custom hook은 비즈니스 로직을 담당하고 있습니다. component 폴더의 내용들은 다시 페이지별로 구성되어 있고, 공통적으로 사용되는 common 폴더가 존재합니다. 페이지별 컴포넌트 폴더는 내부적으로 한개의 body와 조합할 아이템 컴포넌트들이 존재합니다. 아이템 컴포넌트들은 최소한으로 분리되어서, 재사용이나, 유지보수등을 고려하여 만들었습니다.

## 5. 테스트

비즈니스로직은 상당수가 사용자 동작과 관련된 코드가 많기에 핵심 로직으로 볼수 있으며, 코드를 읽었을때 바로 결과를 예측하기 어려운경우가 많습니다. 가령 뒤로가기를 막는 usePreventBack hook은 사용자의 뒤로가기시 퀴즈 진행상황을 초기화 시키는 코드이므로 중요한 코드이며, 페이지를 만드는 makePage 함수의 경우 코드를 읽어보았을때 바로 해당 코드가 원하는 페이지 배열을 만든다고 확신할수 없습니다. 따라서 비즈니스 로직에 해당하는 redux, customhook, bussiness 함수는 대다수 테스트코드를 작성하였습니다.redux의 경우 redux-toolkit을 이용하였기에, reducer가 액션을 받아서 상태를 잘 변경시키는지, saga 제너레이터 함수가 잘 동작하는지 테스트 하였습니다. 액션이 잘 생성되는지 혹은 액션이 사가를 발생시키는지 등은, redux-toolkit 이나 redux-saga 자체의 기능이라고 생각하였기에, 테스트 하지 않았습니다. customhook의 경우 간단한 로직일지라도 테스트를 진행하였습니다. bussiness 함수 경우 axios, setTimeout 비동기 로직을 사용하는 함수를 제외하고는 테스트 하였습니다.

ui 로직의 경우 커스텀 훅으로 비즈니스 로직을 분리했기에 대다수가 입력값을 받아 화면에 출력하는 기능을 가지게 됩니다. 이러한 ui로직에 테스트 케이스를 작성하게 되면, div 태그가 있는지, 혹은 버튼 클릭시 핸들러 함수가 동작하는지 등을 확인하게 되기에 테스트케이스가 굉장히 많아지게 됩니다. 또한 이러한 테스트 케이스는 react 가 실제로 div 태그라는 코드를 div태그로 렌더링 하는지, 혹은 핸들러 함수를 html 태그에 잘 붙이는지 등을 테스트 하는것을 포함하기에, react 라이브러리 자체에 대한테스트를 포함하게 됩니다. 따라서 테스트 효율이 좋지 않고, 라이브러리를 신뢰함으로써 해결할수 있는 문제가 많아 따로 ui 관련해서는 테스트를 작성하지는 않았습니다.
